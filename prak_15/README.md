# **Практическое занятие №15: Unit-тестирование функций (testing, testify)**

**ФИО:** Булискерия Будимир Бакуриевич  
**Группа:** ПИМО-01-25  
**Дисциплина:** Технологии создания программного обеспечения  
**Институт:** ПИШ  
**Кафедра:** Кафедра передовых технологий  
**Преподаватель:** Адышкин Сергей Сергеевич  
**Семестр:** 1 семестр, 2025-2026 гг.

---

## Описание

Проект посвящён изучению и применению unit-тестирования в Go с использованием стандартного пакета `testing` и библиотеки `testify`.  
В ходе работы реализованы:

- Табличные тесты (Table-Driven Tests)
- Подтесты с использованием `t.Run`
- Тестирование ошибок и паник
- Измерение покрытия кода (code coverage)
- Мокирование зависимостей через интерфейсы
- Бенчмарки для оценки производительности

---

## Структура проекта
```
pz15-tests/
├── internal/
│   ├── mathx/
│   │   ├── mathx.go
│   │   └── mathx_test.go
│   ├── stringsx/
│   │   ├── stringsx.go
│   │   └── stringsx_test.go
│   └── service/
│       ├── repo.go
│       ├── service.go
│       └── service_test.go
├── go.mod
├── README.md
└── coverage.out (генерируется)
```
## Установка и запуск

### 1. Клонирование и инициализация
```bash
mkdir pz15-tests && cd pz15-tests
go mod init example.com/pz15-tests
go get github.com/stretchr/testify@latest
```

### 2. Запуск тестов
go test ./...                         # все тесты
![img.png](image%2Fimg.png)
go test -v ./internal/...             # подробный вывод
![img_1.png](image%2Fimg_1.png)
go test -cover ./...                  # процент покрытия
![img_2.png](image%2Fimg_2.png)
### 3. Генерация отчёта о покрытии
go test -coverprofile=coverage.out ./...
go tool cover -html=coverage.out      # откроет HTML-отчёт

---

## Результаты тестирования

### Пример успешного прогона:
PASS
ok  example.com/pz15-tests/internal/mathx  0.001s  coverage: 91.7% of statements

### Критерии покрытия:
- mathx: ≥ 70%
- stringsx: ≥ 70%
- service: ≥ 70%

---

## Контрольные вопросы

1. Чем unit-тест отличается от интеграционного и почему важна изоляция зависимостей?
2. Как устроены табличные тесты в Go и когда они особенно полезны?
3. В чём преимущества testify по сравнению с «чистым» testing, и когда достаточно стандартного пакета?
4. Что проверяет go test -cover и почему высокий процент покрытия не гарантирует качество тестов?
5. Как тестировать функции, которые возвращают ошибки? Примеры хороших негативных кейсов.
6. Как использовать интерфейсы и стабы/моки, чтобы тестировать бизнес-логику без БД?

---

## Выводы

В ходе практики успешно освоены:
- Написание unit-тестов с использованием testing и testify
- Применение табличных тестов и подтестов
- Изоляция зависимостей через мокирование
- Генерация и анализ отчётов о покрытии кода

Тесты покрывают основные сценарии работы функций, включая граничные случаи и обработку ошибок.  
Покрытие кода составляет более 70% в целевых пакетах.

---